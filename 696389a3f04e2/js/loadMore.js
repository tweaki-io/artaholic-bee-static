class loadMoreProduct extends HTMLElement{constructor(){super(),this.addEventListener("click",this.onClickLoadMore)}onClickLoadMore=async evt=>{if(evt.target.classList.contains("loadMoreBtn")){let loadMoreBtn=evt.target,currentPage=loadMoreBtn.dataset.currentPage,collectionUrl=loadMoreBtn.dataset.url,SectionId=loadMoreBtn.dataset.sectionId;currentPage=parseInt(currentPage);let productWrapper=this.querySelector(".collection__product"),loadMoreBtnWrapper=this.querySelector(".loadMoreWrapper");loadMoreBtn.classList.add("loading");try{const resText=await(await fetch(`${collectionUrl}?page=${currentPage+1}&section_id=${SectionId}`)).text();let lodedProductWrapper=new DOMParser().parseFromString(resText,"text/html"),lodedProduct=lodedProductWrapper.querySelector(".collection__product").innerHTML;productWrapper.insertAdjacentHTML("beforeend",lodedProduct);let loadedBtn="";lodedProductWrapper.querySelector(".loadMoreWrapper")&&(loadedBtn=lodedProductWrapper.querySelector(".loadMoreWrapper").innerHTML),loadMoreBtnWrapper.innerHTML=loadedBtn}catch(error){console.log("error",error)}finally{loadMoreBtn.classList.remove("loading")}}}}customElements.define("load-more-product",loadMoreProduct);
//# sourceMappingURL=/cdn/shop/t/4/assets/loadMore.js.map?v=110682198279885056101710100719
